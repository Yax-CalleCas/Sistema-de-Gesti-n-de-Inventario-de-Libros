<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Gestión de Editoriales</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<style>
    /* Estilos para copiar el diseño del Admin (Púrpura/Violeta) */

    /* Fondo del Cuerpo */
    body {
        background-color: #f9fafc; /* Fondo gris muy claro */
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Navbar */
    .navbar-custom {
        background-color: rgb(64, 0, 128); /* Púrpura oscuro */
        border-color: rgb(50, 0, 100);
    }

    .navbar-custom .navbar-brand {
        color: #fff; /* Texto blanco */
        font-weight: 600;
    }

    /* Estilo para el panel del formulario (similar a metric-card) */
    .form-panel {
        background: #fff;
        border: 1px solid #e0e0e0; /* Borde gris claro */
        border-radius: 12px; /* Esquinas redondeadas */
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05); /* Sombra sutil */
    }

    .form-panel h3 {
        color: rgb(64, 0, 128); /* Título púrpura */
        font-weight: 600;
        margin-top: 0;
    }

    /* Encabezado de la tabla */
    .table thead tr {
        background-color: rgb(128, 0, 255); /* Púrpura más claro */
        color: white; /* Texto blanco */
        border-color: rgb(100, 0, 200);
    }

    /* Filas del cuerpo de la tabla (hover) */
    .table tbody tr:hover {
        background-color: #f5f5f5; /* Fondo gris claro al pasar el ratón */
    }

    /* Botones */
    .btn-info { /* Para el botón "Volver" y "Editar" */
        background-color: rgb(128, 0, 255);
        border-color: rgb(100, 0, 200);
    }

    .btn-info:hover, .btn-info:focus {
        background-color: rgb(100, 0, 200);
        border-color: rgb(80, 0, 160);
    }

    .btn-success { /* Botón "Guardar" */
        background-color: rgb(64, 0, 128);
        border-color: rgb(50, 0, 100);
    }

    .btn-success:hover, .btn-success:focus {
        background-color: rgb(50, 0, 100);
        border-color: rgb(30, 0, 60);
    }

    /* Separador horizontal */
    hr {
        border-top: 1px solid #e0e0e0;
    }
    </style>
</head>
<body>

	<nav class="navbar navbar-custom navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="/admin">Panel de Administración  </a>
			</div>
		</div>
	</nav>

	<div class="container" style="margin-top: 80px;">
		<div class="row">
			<div class="col-xs-12">
				<h2 class="pull-left">Gestión de Editoriales</h2>
				<div class="pull-right">
					<a th:href="@{/admin}" class="btn btn-info">Volver</a>
				</div>
			</div>
		</div>
		<hr>

		<div class="row">
			<div class="col-md-5">
				<div class="form-panel">
					<h3 th:text="${editorial.id != null} ? 'Editar Editorial' : 'Nueva Editorial'"></h3>
					<hr>

					<form th:action="@{/admin/editoriales}" th:object="${editorial}"
						method="post">

						<input type="hidden" th:field="*{id}" />

						<div class="form-group">
							<label for="nombre">Nombre:</label> 
							<input type="text" th:field="*{nombre}" class="form-control"
								placeholder="Nombre de la editorial" required>
						</div>

						<div class="form-group">
							<button type="submit" class="btn btn-success">
                                <span class="glyphicon glyphicon-floppy-disk"></span> 
                                Guardar
                            </button>
                            <a th:href="@{/admin/editoriales}" class="btn btn-default">
                                Cancelar
                            </a>
						</div>
					</form>
				</div>
			</div>

			<div class="col-md-7">

				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th class="col-md-1">ID</th>
							<th class="col-md-8">Nombre</th>
							<th class="col-md-3">Acciones</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="item : ${editoriales}">
							<td th:text="${item.id}"></td>
							<td th:text="${item.nombre}"></td>
							
							<td class="action-buttons">
								<a th:href="@{'/admin/editoriales/editar/' + ${item.id}}"
									class="btn btn-info btn-sm" title="Editar">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</a> 
								<a th:href="@{'/admin/editoriales/eliminar/' + ${item.id}}"
									class="btn btn-danger btn-sm"
									onclick="return confirm('¿Seguro que deseas eliminar esta editorial?')"
									title="Eliminar"> 
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</a>
							</td>
						</tr>
						<tr th:if="${#lists.isEmpty(editoriales)}">
							<td colspan="3" class="text-center text-muted">No hay
								editoriales registradas.</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>
<div th:replace="fragments/footer :: siteFooter"></div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>