<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Gestión de Proveedores</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" th:href="@{/Css/Proveedores.css}">
</head>
<body>

	<nav class="navbar navbar-custom navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="/admin">Panel de Administración</a>
			</div>
		</div>
	</nav>

	<div class="container" style="margin-top: 80px;">
		<div class="row">
			<div class="col-xs-12">
				<h2 class="pull-left">Gestión de Proveedores</h2>
				<div class="pull-right">
					<a th:href="@{/admin}" class="btn btn-info">Volver</a>
				</div>
			</div>
		</div>
		<hr>

		<div class="row">
			<div class="col-md-5">
				<div class="form-panel">
					<h3 th:text="${proveedor.id != null} ? 'Editar Proveedor' : 'Nuevo Proveedor'"></h3>
					<hr>

					<form th:action="@{/admin/proveedores}" th:object="${proveedor}"
						method="post">

						<input type="hidden" th:field="*{id}" />

						<div class="form-group">
							<label for="nombre"><span class="glyphicon glyphicon-tag"></span> Nombre:</label> 
							<input type="text" th:field="*{nombre}" class="form-control"
								placeholder="Nombre del proveedor" required>
						</div>
                        
                        <div class="form-group">
							<label for="direccion"><span class="glyphicon glyphicon-home"></span> Dirección:</label> 
							<input type="text" th:field="*{direccion}" class="form-control"
								placeholder="Dirección completa" required>
						</div>
                        
						<div class="form-group">
							<label for="telefono"><span class="glyphicon glyphicon-phone"></span> Teléfono:</label> 
							<input type="text" th:field="*{telefono}" class="form-control"
								placeholder="Teléfono de contacto">
						</div>

						<div class="form-group">
							<button type="submit" class="btn btn-success">
                                <span class="glyphicon glyphicon-floppy-disk"></span> 
                                Guardar
                            </button>
							<a th:href="@{/admin/proveedores}" class="btn btn-default">
                                <span class="glyphicon glyphicon-remove"></span>
                                Cancelar
                            </a>
						</div>
					</form>
				</div>
			</div>

			<div class="col-md-7">
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th class="col-md-1">ID</th>
							<th class="col-md-3">Nombre</th>
							<th class="col-md-3">Dirección</th>
							<th class="col-md-2">Teléfono</th>
							<th class="col-md-3">Acciones</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="prov : ${proveedores}">
							<td th:text="${prov.id}"></td>
							<td th:text="${prov.nombre}"></td>
							<td th:text="${prov.direccion}"></td>
							<td th:text="${prov.telefono}"></td>
							
							<td class="action-buttons">
								<a th:href="@{'/admin/proveedores/editar/' + ${prov.id}}"
									class="btn btn-info btn-sm" title="Editar">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</a> 
								<a th:href="@{'/admin/proveedores/eliminar/' + ${prov.id}}"
									class="btn btn-danger btn-sm"
									onclick="return confirm('¿Seguro que deseas eliminar este proveedor?')"
									title="Eliminar"> 
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</a>
							</td>
						</tr>
						<tr th:if="${#lists.isEmpty(proveedores)}">
							<td colspan="5" class="text-center text-muted">No hay
								proveedores registrados.</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>
	<div th:replace="fragments/footer :: siteFooter"></div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>